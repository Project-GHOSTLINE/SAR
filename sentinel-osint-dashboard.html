<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üõ°Ô∏è SENTINEL OSINT - Surveillance Temps R√©el</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Courier New', monospace;
      background: #000;
      color: #0f0;
      overflow: hidden;
      height: 100vh;
    }

    /* Scanlines effect */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 255, 0, 0.1) 0px,
        transparent 1px,
        transparent 2px,
        rgba(0, 255, 0, 0.1) 3px
      );
      pointer-events: none;
      z-index: 1000;
      animation: scanlines 8s linear infinite;
    }

    @keyframes scanlines {
      0% { transform: translateY(0); }
      100% { transform: translateY(10px); }
    }

    /* CRT flicker */
    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.97; }
    }

    .container {
      animation: flicker 0.15s infinite;
      padding: 20px;
      height: 100vh;
      overflow-y: auto;
    }

    /* Header */
    .header {
      border: 2px solid #0f0;
      padding: 20px;
      margin-bottom: 20px;
      background: rgba(0, 255, 0, 0.05);
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
    }

    .title {
      font-size: 32px;
      text-align: center;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #0f0;
      animation: glow 2s ease-in-out infinite;
    }

    @keyframes glow {
      0%, 100% { text-shadow: 0 0 10px #0f0, 0 0 20px #0f0; }
      50% { text-shadow: 0 0 20px #0f0, 0 0 30px #0f0, 0 0 40px #0f0; }
    }

    .subtitle {
      text-align: center;
      font-size: 14px;
      color: #0a0;
    }

    .status-bar {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid #0f0;
    }

    .status-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .blink {
      animation: blink 1s step-start infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    /* Grid Layout */
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 20px;
    }

    .panel {
      border: 2px solid #0f0;
      padding: 15px;
      background: rgba(0, 255, 0, 0.02);
      box-shadow: 0 0 15px rgba(0, 255, 0, 0.2);
    }

    .panel-title {
      font-size: 16px;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid #0f0;
      text-shadow: 0 0 5px #0f0;
    }

    /* Stats */
    .stat {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px dotted #0f0;
    }

    .stat:last-child {
      border-bottom: none;
    }

    .stat-value {
      font-weight: bold;
      color: #0ff;
    }

    /* Timeline */
    .timeline {
      max-height: 400px;
      overflow-y: auto;
      font-size: 12px;
    }

    .timeline::-webkit-scrollbar {
      width: 10px;
    }

    .timeline::-webkit-scrollbar-track {
      background: #000;
      border: 1px solid #0f0;
    }

    .timeline::-webkit-scrollbar-thumb {
      background: #0f0;
      border: 1px solid #000;
    }

    .timeline-item {
      margin-bottom: 12px;
      padding: 8px;
      border-left: 3px solid #0f0;
      padding-left: 12px;
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .timeline-time {
      color: #0a0;
      font-size: 11px;
    }

    .timeline-text {
      margin-top: 4px;
    }

    .timeline-file {
      color: #0ff;
      font-size: 11px;
      margin-top: 4px;
    }

    /* File List */
    .file-list {
      max-height: 300px;
      overflow-y: auto;
      font-size: 11px;
    }

    .file-item {
      padding: 6px;
      border-bottom: 1px solid rgba(0, 255, 0, 0.2);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .file-item:hover {
      background: rgba(0, 255, 0, 0.1);
    }

    /* Alerts */
    .alert {
      padding: 10px;
      margin-bottom: 10px;
      border: 1px solid;
      animation: slideIn 0.5s ease-out;
    }

    .alert-danger {
      border-color: #f00;
      color: #f00;
      background: rgba(255, 0, 0, 0.1);
    }

    .alert-warning {
      border-color: #ff0;
      color: #ff0;
      background: rgba(255, 255, 0, 0.1);
    }

    .alert-info {
      border-color: #0ff;
      color: #0ff;
      background: rgba(0, 255, 255, 0.1);
    }

    /* Matrix Rain Effect */
    .matrix-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.1;
    }

    /* Worker Monitor */
    .worker-monitor {
      grid-column: 1 / -1;
      border: 3px solid #0f0;
      padding: 20px;
      background: rgba(0, 255, 0, 0.05);
      box-shadow: 0 0 30px rgba(0, 255, 0, 0.4);
    }

    .worker-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 15px;
      margin-top: 15px;
    }

    .worker-stat {
      text-align: center;
      padding: 15px;
      border: 1px solid #0f0;
      background: rgba(0, 0, 0, 0.5);
    }

    .worker-stat-value {
      font-size: 28px;
      color: #0ff;
      text-shadow: 0 0 10px #0ff;
      margin-bottom: 8px;
    }

    .worker-stat-label {
      font-size: 11px;
      color: #0a0;
    }

    /* ASCII Art */
    .ascii-art {
      font-size: 10px;
      line-height: 1;
      text-align: center;
      color: #0a0;
      margin-top: 10px;
    }

    /* Real-time indicator */
    .live-indicator {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border: 1px solid #f00;
      background: rgba(255, 0, 0, 0.1);
    }

    .live-dot {
      width: 10px;
      height: 10px;
      background: #f00;
      border-radius: 50%;
      animation: pulse-red 1s ease-in-out infinite;
    }

    @keyframes pulse-red {
      0%, 100% { box-shadow: 0 0 5px #f00, 0 0 10px #f00; }
      50% { box-shadow: 0 0 10px #f00, 0 0 20px #f00, 0 0 30px #f00; }
    }

    /* Code display */
    .code {
      background: #000;
      border: 1px solid #0f0;
      padding: 10px;
      font-size: 11px;
      max-height: 200px;
      overflow-y: auto;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
  </style>
</head>
<body>
  <canvas class="matrix-bg" id="matrix"></canvas>

  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="title">
        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó
        ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë
        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë
        ‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïë
        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
        ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù   ‚ïö‚ïê‚ïù   ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
      </div>
      <div class="subtitle">[ OSINT SURVEILLANCE SYSTEM - TEMPS R√âEL ]</div>

      <div class="status-bar">
        <div class="status-item">
          <span class="live-indicator">
            <span class="live-dot"></span>
            <span>LIVE</span>
          </span>
        </div>
        <div class="status-item">
          <span>UPTIME:</span>
          <span id="uptime" class="stat-value">00:00:00</span>
        </div>
        <div class="status-item">
          <span>SCANS:</span>
          <span id="totalScans" class="stat-value">0</span>
        </div>
        <div class="status-item">
          <span>DERNI√àRE MAJ:</span>
          <span id="lastUpdate" class="stat-value blink">--:--:--</span>
        </div>
      </div>
    </div>

    <!-- Main Grid -->
    <div class="grid">
      <!-- Worker Status -->
      <div class="panel">
        <div class="panel-title">[ üë∑ WORKER STATUS ]</div>
        <div class="stat">
          <span>Status:</span>
          <span id="workerStatus" class="stat-value">UNKNOWN</span>
        </div>
        <div class="stat">
          <span>Derni√®re mise √† jour:</span>
          <span id="workerLastUpdate" class="stat-value">N/A</span>
        </div>
        <div class="stat">
          <span>Fichiers cr√©√©s:</span>
          <span id="filesCreated" class="stat-value">0</span>
        </div>
        <div class="stat">
          <span>Fichiers modifi√©s:</span>
          <span id="filesModified" class="stat-value">0</span>
        </div>
        <div class="stat">
          <span>Lignes de code:</span>
          <span id="linesAdded" class="stat-value">0</span>
        </div>
        <div class="stat">
          <span>Commits:</span>
          <span id="commits" class="stat-value">0</span>
        </div>
      </div>

      <!-- System Stats -->
      <div class="panel">
        <div class="panel-title">[ üìä SYSTEM STATS ]</div>
        <div class="stat">
          <span>Fichiers d√©tect√©s:</span>
          <span id="totalFiles" class="stat-value">0</span>
        </div>
        <div class="stat">
          <span>Non commit√©s:</span>
          <span id="uncommittedFiles" class="stat-value">0</span>
        </div>
        <div class="stat">
          <span>Total activit√©s:</span>
          <span id="totalActivities" class="stat-value">0</span>
        </div>
        <div class="stat">
          <span>Alertes actives:</span>
          <span id="totalAlerts" class="stat-value">0</span>
        </div>
        <div class="stat">
          <span>Taille totale:</span>
          <span id="totalSize" class="stat-value">0 KB</span>
        </div>
      </div>

      <!-- Alerts -->
      <div class="panel">
        <div class="panel-title">[ üö® ALERTES ]</div>
        <div id="alerts" style="max-height: 350px; overflow-y: auto;">
          <div class="alert alert-info">Syst√®me d√©marr√©...</div>
        </div>
      </div>

      <!-- Activity Timeline -->
      <div class="panel" style="grid-column: 1 / 3;">
        <div class="panel-title">[ ‚è±Ô∏è TIMELINE D'ACTIVIT√â ]</div>
        <div class="timeline" id="timeline">
          <div class="timeline-item">
            <div class="timeline-time">Chargement...</div>
            <div class="timeline-text">En attente de donn√©es...</div>
          </div>
        </div>
      </div>

      <!-- File Monitor -->
      <div class="panel">
        <div class="panel-title">[ üìÅ FICHIERS SURVEILL√âS ]</div>
        <div class="file-list" id="fileList">
          <div class="file-item">Chargement...</div>
        </div>
      </div>
    </div>

    <!-- Worker Monitor Panel -->
    <div class="worker-monitor">
      <div class="panel-title" style="text-align: center; font-size: 20px;">
        [ üéØ WORKER MONITORING - D√âTAILS COMPLETS ]
      </div>

      <div class="worker-grid" id="workerGrid">
        <!-- Will be populated dynamically -->
      </div>

      <div class="ascii-art">
        <pre>
   _____ ______ _   _ _______ _____ _   _ ______ _
  / ____|  ____| \ | |__   __|_   _| \ | |  ____| |
 | (___ | |__  |  \| |  | |    | | |  \| | |__  | |
  \___ \|  __| | . ` |  | |    | | | . ` |  __| | |
  ____) | |____| |\  |  | |   _| |_| |\  | |____| |____
 |_____/|______|_| \_|  |_|  |_____|_| \_|______|______|
        </pre>
      </div>
    </div>
  </div>

  <script>
    let startTime = Date.now();
    let scanCount = 0;

    // Matrix Rain Effect
    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()";
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function drawMatrix() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = '#0F0';
      ctx.font = fontSize + 'px monospace';

      for (let i = 0; i < drops.length; i++) {
        const text = matrix[Math.floor(Math.random() * matrix.length)];
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }
    }

    setInterval(drawMatrix, 50);

    // Load OSINT Report
    async function loadReport() {
      try {
        const response = await fetch('SENTINEL-OSINT-REPORT.json');
        const report = await response.json();

        updateDashboard(report);
        scanCount++;

      } catch (error) {
        console.error('Erreur chargement rapport:', error);
      }
    }

    function updateDashboard(report) {
      // Update header stats
      document.getElementById('totalScans').textContent = report.metadata.total_scans;
      document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString();

      // Update Worker status
      document.getElementById('workerStatus').textContent = report.worker.status;
      document.getElementById('workerLastUpdate').textContent = report.worker.last_update || 'N/A';
      document.getElementById('filesCreated').textContent = report.worker.statistics.files_created;
      document.getElementById('filesModified').textContent = report.worker.statistics.files_modified;
      document.getElementById('linesAdded').textContent = report.worker.statistics.lines_added;
      document.getElementById('commits').textContent = report.worker.statistics.commits;

      // Update system stats
      document.getElementById('totalFiles').textContent = report.worker.statistics.total_files;
      document.getElementById('uncommittedFiles').textContent = report.git.uncommitted_files;
      document.getElementById('totalActivities').textContent = report.activities.length;
      document.getElementById('totalAlerts').textContent = report.alerts.length;

      const totalSize = report.files.reduce((sum, f) => sum + f.size, 0);
      document.getElementById('totalSize').textContent = (totalSize / 1024).toFixed(1) + ' KB';

      // Update timeline
      const timeline = document.getElementById('timeline');
      timeline.innerHTML = report.activities.map(a => `
        <div class="timeline-item">
          <div class="timeline-time">${new Date(a.time).toLocaleTimeString()}</div>
          <div class="timeline-text">${a.fileType} - ${a.type.toUpperCase()}</div>
          <div class="timeline-file">${a.file} (${a.lines} lignes, ${(a.size / 1024).toFixed(1)} KB)</div>
        </div>
      `).join('');

      // Update file list
      const fileList = document.getElementById('fileList');
      fileList.innerHTML = report.files.slice(0, 15).map(f => `
        <div class="file-item">
          <span>${f.name}</span>
          <span style="color: #0ff;">${f.lines}L</span>
        </div>
      `).join('');

      // Update alerts
      const alerts = document.getElementById('alerts');
      alerts.innerHTML = report.alerts.map(a => `
        <div class="alert alert-${a.level}">
          [${new Date(a.time).toLocaleTimeString()}] ${a.message}
        </div>
      `).join('');

      // Update worker grid
      const workerGrid = document.getElementById('workerGrid');
      workerGrid.innerHTML = `
        <div class="worker-stat">
          <div class="worker-stat-value">${report.worker.statistics.files_created}</div>
          <div class="worker-stat-label">CR√â√âS</div>
        </div>
        <div class="worker-stat">
          <div class="worker-stat-value">${report.worker.statistics.files_modified}</div>
          <div class="worker-stat-label">MODIFI√âS</div>
        </div>
        <div class="worker-stat">
          <div class="worker-stat-value">${report.worker.statistics.lines_added}</div>
          <div class="worker-stat-label">LIGNES</div>
        </div>
        <div class="worker-stat">
          <div class="worker-stat-value">${report.worker.statistics.commits}</div>
          <div class="worker-stat-label">COMMITS</div>
        </div>
        <div class="worker-stat">
          <div class="worker-stat-value">${report.worker.statistics.total_files}</div>
          <div class="worker-stat-label">FICHIERS</div>
        </div>
        <div class="worker-stat">
          <div class="worker-stat-value">${report.git.uncommitted_files}</div>
          <div class="worker-stat-label">NON COMMIT√âS</div>
        </div>
      `;
    }

    // Update uptime
    function updateUptime() {
      const elapsed = Math.floor((Date.now() - startTime) / 1000);
      const hours = Math.floor(elapsed / 3600).toString().padStart(2, '0');
      const minutes = Math.floor((elapsed % 3600) / 60).toString().padStart(2, '0');
      const seconds = (elapsed % 60).toString().padStart(2, '0');
      document.getElementById('uptime').textContent = `${hours}:${minutes}:${seconds}`;
    }

    // Auto-refresh
    setInterval(loadReport, 2000); // Toutes les 2 secondes
    setInterval(updateUptime, 1000);

    // Initial load
    loadReport();
  </script>
</body>
</html>
