<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>SEO Secret Exploiter</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Courier New', monospace; background: #000; color: #f0f; padding: 20px; }
        h1 { text-align: center; font-size: 2.5em; color: #f0f; text-shadow: 0 0 20px #f0f; margin-bottom: 20px; }
        .controls { background: rgba(50, 0, 50, 0.3); border: 2px solid #f0f; padding: 20px; margin-bottom: 20px; }
        input { width: 70%; padding: 15px; background: #000; border: 2px solid #f0f; color: #f0f; font-size: 1.2em; }
        .btn { width: 28%; padding: 15px; background: #f0f; border: none; color: #000; font-size: 1.2em; font-weight: bold; cursor: pointer; }
        .btn:hover { background: #f6f; box-shadow: 0 0 20px #f0f; }
        .stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px; }
        .stat { background: rgba(50, 0, 50, 0.3); border: 2px solid #f0f; padding: 20px; text-align: center; }
        .stat-value { font-size: 2.5em; font-weight: bold; color: #f0f; }
        .stat-label { color: #f6f; margin-top: 5px; }
        .section { background: rgba(50, 0, 50, 0.3); border: 2px solid #f0f; padding: 20px; margin-bottom: 20px; }
        .section-title { font-size: 1.5em; color: #f0f; margin-bottom: 15px; font-weight: bold; }
        .item { background: #000; border-left: 5px solid #f0f; padding: 15px; margin-bottom: 10px; }
        .critical { border-left-color: #f00; }
        .high { border-left-color: #f90; }
        .medium { border-left-color: #ff0; }
        .info { border-left-color: #0ff; }
        .label { color: #f6f; font-weight: bold; }
        .loading { text-align: center; padding: 60px; font-size: 2em; color: #f0f; }
    </style>
</head>
<body>
    <h1>üîÆ SEO SECRET EXPLOITER</h1>

    <div class="controls">
        <input type="text" id="target" placeholder="example.com" value="amazon.com">
        <button class="btn" onclick="exploit()">‚ö° EXPLOIT</button>
    </div>

    <div id="loading" class="loading" style="display: none;">Exploiting SEO secrets...</div>

    <div id="results" style="display: none;">
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="stat-secrets">0</div>
                <div class="stat-label">SECRETS FOUND</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-hidden">0</div>
                <div class="stat-label">HIDDEN PAGES</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-blackhat">0</div>
                <div class="stat-label">BLACK HAT</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-backlinks">0</div>
                <div class="stat-label">BACKLINKS</div>
            </div>
        </div>

        <div id="cloaking-alert" style="display: none;" class="section">
            <div class="section-title">üö® CLOAKING DETECTED</div>
            <div class="item critical">
                Site shows different content to search engines vs users - BLACK HAT TECHNIQUE
            </div>
        </div>

        <div id="blackhat-section" style="display: none;" class="section">
            <div class="section-title">üíÄ BLACK HAT TECHNIQUES</div>
            <div id="blackhat-list"></div>
        </div>

        <div id="hidden-section" style="display: none;" class="section">
            <div class="section-title">üïµÔ∏è HIDDEN PAGES</div>
            <div id="hidden-list"></div>
        </div>

        <div id="secrets-section" style="display: none;" class="section">
            <div class="section-title">üîì SECRETS DISCOVERED</div>
            <div id="secrets-list"></div>
        </div>

        <div id="technical-section" class="section">
            <div class="section-title">‚öôÔ∏è TECHNICAL SEO</div>
            <div id="technical-content"></div>
        </div>
    </div>

    <script>
        async function exploit() {
            const target = document.getElementById('target').value.trim();
            if (!target) return alert('Enter target domain');

            document.getElementById('loading').style.display = 'block';
            document.getElementById('results').style.display = 'none';

            try {
                const response = await fetch('/api/seo/exploit-secrets', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ target })
                });

                const result = await response.json();
                if (result.success) display(result.results);
                else alert('Failed: ' + result.error);
            } catch (error) {
                alert('Error: ' + error.message);
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        }

        function display(data) {
            document.getElementById('results').style.display = 'block';

            // Stats
            document.getElementById('stat-secrets').textContent = data.secrets_found.length;
            document.getElementById('stat-hidden').textContent = data.hidden_pages.length;
            document.getElementById('stat-blackhat').textContent = data.black_hat_techniques.length;
            document.getElementById('stat-backlinks').textContent = data.backlinks.length;

            // Cloaking
            if (data.cloaking_detected) {
                document.getElementById('cloaking-alert').style.display = 'block';
            }

            // Black hat
            if (data.black_hat_techniques.length > 0) {
                document.getElementById('blackhat-section').style.display = 'block';
                document.getElementById('blackhat-list').innerHTML = data.black_hat_techniques.map(t => `
                    <div class="item ${t.severity.toLowerCase()}">
                        <div style="font-size: 1.2em; margin-bottom: 10px;">${t.type}</div>
                        <div><span class="label">Severity:</span> ${t.severity}</div>
                        <div><span class="label">Description:</span> ${t.description}</div>
                        ${t.keyword ? `<div><span class="label">Keyword:</span> ${t.keyword} (${t.count}x)</div>` : ''}
                    </div>
                `).join('');
            }

            // Hidden pages
            if (data.hidden_pages.length > 0) {
                document.getElementById('hidden-section').style.display = 'block';
                document.getElementById('hidden-list').innerHTML = data.hidden_pages.map(p => `
                    <div class="item ${p.severity.toLowerCase()}">
                        <div style="font-size: 1.2em; margin-bottom: 10px;">${p.type}</div>
                        <div><span class="label">URL:</span> <a href="${p.url}" target="_blank" style="color: #0ff;">${p.url}</a></div>
                        <div><span class="label">Description:</span> ${p.description}</div>
                    </div>
                `).join('');
            }

            // Secrets
            if (data.secrets_found.length > 0) {
                document.getElementById('secrets-section').style.display = 'block';
                document.getElementById('secrets-list').innerHTML = data.secrets_found.map(s => `
                    <div class="item ${s.severity.toLowerCase()}">
                        <div style="font-size: 1.2em; margin-bottom: 10px;">${s.type}</div>
                        ${s.technique ? `<div><span class="label">Technique:</span> ${s.technique}</div>` : ''}
                        ${s.value ? `<div><span class="label">Value:</span> ${s.value}</div>` : ''}
                        <div><span class="label">Description:</span> ${s.description}</div>
                    </div>
                `).join('');
            }

            // Technical
            const tech = data.technical_seo;
            document.getElementById('technical-content').innerHTML = `
                <div class="item info">
                    <div><span class="label">HTTPS:</span> ${tech.https ? '‚úÖ Yes' : '‚ùå No'}</div>
                    <div><span class="label">Sitemap:</span> ${tech.has_sitemap ? '‚úÖ Yes' : '‚ùå No'}</div>
                    <div><span class="label">Robots.txt:</span> ${tech.has_robots ? '‚úÖ Yes' : '‚ùå No'}</div>
                    ${tech.issues.length > 0 ? `
                        <div style="margin-top: 10px;"><span class="label">Issues:</span></div>
                        ${tech.issues.map(i => `<div style="color: #f90;">‚ö†Ô∏è ${i}</div>`).join('')}
                    ` : ''}
                </div>
            `;
        }
    </script>
</body>
</html>
